(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aeaf"],{be0f:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const l={class:"flex flex-col"},n={class:"flex flex-row justify-end"};function i(e,t,a,i,c,d){const s=Object(o["J"])("TextField"),r=Object(o["J"])("SingleImageUpload"),u=Object(o["J"])("RadioGroup"),b=Object(o["J"])("ModalTemplate");return Object(o["B"])(),Object(o["e"])(b,{"modal-id":e.modalId,title:e.titleForm,size:"xl"},{content:Object(o["V"])(()=>[Object(o["h"])("div",l,[Object(o["k"])(s,{value:e.form.kode,"onUpdate:value":t[0]||(t[0]=t=>e.form.kode=t),label:"Kode",type:"text",placeholder:"Masukkan kode",class:"w-full mb-4"},null,8,["value"]),Object(o["k"])(s,{value:e.form.title,"onUpdate:value":t[1]||(t[1]=t=>e.form.title=t),label:"Title",type:"text",placeholder:"Masukkan title",class:"w-full mb-4"},null,8,["value"]),Object(o["k"])(r,{label:"Banner",value:e.form.banner.file,"onUpdate:value":t[2]||(t[2]=t=>e.form.banner.file=t),"file-url":e.form.banner.fileUrl,"unique-id":"ImageBanner",accept:".png, .jpg, .jpeg, .svg",class:"mb-4"},null,8,["value","file-url"]),Object(o["k"])(u,{label:"Status",items:e.listStatus,value:e.form.isActive,"onUpdate:value":t[3]||(t[3]=t=>e.form.isActive=t),"unique-id":"FieldStatus"},null,8,["items","value"])])]),buttons:Object(o["V"])(()=>[Object(o["h"])("div",n,[Object(o["h"])("button",{type:"button",class:"button w-20 bg-theme-6 text-white mr-2",onClick:t[4]||(t[4]=(...t)=>e.onCancelClick&&e.onCancelClick(...t))}," Batal "),Object(o["h"])("button",{type:"button",class:"button w-20 bg-theme-1 text-white",onClick:t[5]||(t[5]=(...t)=>e.onSaveClick&&e.onSaveClick(...t))},Object(o["N"])(e.isEditPage?"Perbarui":"Simpan"),1)])]),_:1},8,["modal-id","title"])}var c=a("33d8"),d=a("4980");const s=Object(o["l"])(()=>a.e("chunk-2d0b61df").then(a.bind(null,"1c90"))),r=Object(o["l"])(()=>a.e("chunk-2d0cc9c9").then(a.bind(null,"4f56"))),u=Object(o["l"])(()=>a.e("chunk-1fcce625").then(a.bind(null,"e723"))),b=Object(o["l"])(()=>a.e("chunk-2bcf108f").then(a.bind(null,"560d"))),g=async()=>a.e("chunk-2d0df461").then(a.bind(null,"88e0"));var p=Object(o["m"])({props:{showFormCategory:{type:Boolean,default:!1},categoryId:{type:Number,default:0},categoryCode:{type:String,default:""}},components:{ModalTemplate:s,TextField:r,SingleImageUpload:u,RadioGroup:b},setup(e,{emit:t}){const a="modal-form-category",l=Object(o["c"])(()=>e.categoryId),n=Object(o["c"])(()=>e.categoryCode),i=Object(o["c"])(()=>!!n.value),s=Object(o["c"])(()=>i.value?"Form Edit Kategori":"Form Add Kategori"),r=[{text:"Active",value:"1"},{text:"Inactive",value:"0"}],u=()=>{p(),t("update:show-form-category",!1),t("update:category-id",0),t("update:category-code","")};Object(o["U"])(()=>e.showFormCategory,t=>{console.log("props.showFormCategory newVal ",e),t&&c["b"].showModal("#"+a),c["b"].onHideModal("#"+a,u)});const b=Object(o["F"])({kode:"",title:"",banner:{file:"",fileUrl:""},isActive:"0"}),p=()=>{b.kode="",b.title="",b.banner={file:"",fileUrl:""},b.isActive="0"},v=async()=>{const{getAdminLearningCategoryById:e}=await g();c["b"].gLoading.show();try{const t=await e(n.value);await Object(o["s"])();const a=t.response;console.log("resData getDetailCategory ",a),b.kode=a.kode,b.title=a.title,b.banner.fileUrl=a.banner,b.isActive=a.isActive?"1":"0",console.log("form ",b)}catch(t){console.log("err response getDetailCategory ",t,null===t||void 0===t?void 0:t.response),c["b"].handleEds(t)}finally{c["b"].gLoading.hide()}};Object(o["U"])(()=>i.value,e=>{console.log("newVal isEditPage.value ",e),e&&v()});const f=()=>c["b"].hideModal("#"+a),m=()=>{console.log("category ID ",l.value),console.log("category Slug ",n.value),i.value?j():y()},h=()=>{c["b"].hideModal("#"+a),t("update:refetch",!0)},y=async()=>{const{postAdminLearningCategory:e}=await g();c["b"].gLoading.show();const t=new FormData;t.append("kode",b.kode),t.append("title",b.title),t.append("banner",b.banner.file),t.append("isActive","1"===b.isActive?"1":"0");try{await e(t),Object(d["a"])({type:"s",message:"Successfully Created Kategori"}).show(),h()}catch(l){var a,o;console.error("err hitAddCategory ",l,null===l||void 0===l?void 0:l.response);const e=null===l||void 0===l||null===(a=l.response)||void 0===a?void 0:a.data,t=null===e||void 0===e||null===(o=e.diagnostic)||void 0===o?void 0:o.message;Object(d["a"])({type:"f",message:t}).show()}finally{c["b"].gLoading.hide()}},j=async()=>{const{putAdminLearningCategory:e}=await g();c["b"].gLoading.show();const t=new FormData;t.append("kode",b.kode),t.append("title",b.title);const a=b.banner.file;a?t.append("banner",a):t.append("banner",""),t.append("isActive","1"===b.isActive?"1":"0");try{await e(n.value,t),Object(d["a"])({type:"s",message:"Successfully Updated Kategori"}).show(),h()}catch(i){var o,l;console.error("err hitEditCategory ",i,null===i||void 0===i?void 0:i.response);const e=null===i||void 0===i||null===(o=i.response)||void 0===o?void 0:o.data,t=null===e||void 0===e||null===(l=e.diagnostic)||void 0===l?void 0:l.message;Object(d["a"])({type:"f",message:t}).show()}finally{c["b"].gLoading.hide()}};return{modalId:a,isEditPage:i,titleForm:s,listStatus:r,form:b,onCancelClick:f,onSaveClick:m}}}),v=a("6b0d"),f=a.n(v);const m=f()(p,[["render",i]]);t["default"]=m}}]);
//# sourceMappingURL=chunk-2d21aeaf.86925aa0.js.map