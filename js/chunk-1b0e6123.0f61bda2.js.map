{"version":3,"sources":["webpack:///./src/services/v1/member/learning/index.ts","webpack:///./src/composables/useWiseFetch.ts","webpack:///./src/views/member/materi/view-video.vue?a05f","webpack:///./src/views/member/materi/view-video.vue","webpack:///./src/views/member/materi/view-video.vue?6dc4"],"names":["BASE_URL_MEMBER_LEARNING","HOST_API_V1","getMemberLearningCategories","async","res","$api","get","data","getMemberLearningTopics","categoryCode","getMemberLearningEbooks","topicId","getMemberLearningVideos","getMemberLearningView","slug","useWiseFetch","handler","options","fetchData","ref","fetchPending","fetchError","callId","execute","currCallId","value","Promise","resolve","setTimeout","debounce","response","params","err","console","error","fetchReset","pending","reset","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","style","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_LoadingDiv","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","prettierMateriVideo","title","isLoadedVideo","_createCommentVNode","_createBlock","key","_withDirectives","height","heightVideo","src","content","frameborder","_vShow","defineComponent","components","setup","route","useRoute","materiVideoID","computed","pathMemberMateri","breadcrumb","to","dashboardPath","disabled","onMounted","setBreadcrumb","dataMateriVideo","pendingMateriVideo","errorMateriVideo","executeMateriVideo","frameVideo","setLoadingVideo","onload","watch","setupHeightVideo","heightContent","document","getElementsByClassName","clientHeight","newVal","log","immediate","__exports__"],"mappings":"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","file":"js/chunk-1b0e6123.0f61bda2.js","sourcesContent":["import { BaseResponse } from \"@/services/types\";\nimport { $api } from \"@/services/constant\";\nimport { HOST_API_V1 } from \"@/services/env-init\";\nimport { LearningCategory, LearningMateri, LearningTopic } from \"./types\";\n\nconst BASE_URL_MEMBER_LEARNING = HOST_API_V1 + \"member/learning\";\n\nexport const getMemberLearningCategories = async (): Promise<\n  BaseResponse<LearningCategory[]>\n> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_LEARNING}/category`);\n  return res.data;\n};\n\nexport const getMemberLearningTopics = async (\n  categoryCode: string\n): Promise<BaseResponse<LearningTopic[]>> => {\n  const res = await $api().get(\n    `${BASE_URL_MEMBER_LEARNING}/topic/${categoryCode}`\n  );\n  return res.data;\n};\n\nexport const getMemberLearningEbooks = async (\n  topicId: string\n): Promise<BaseResponse<LearningMateri[]>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_LEARNING}/ebook/${topicId}`);\n  return res.data;\n};\n\nexport const getMemberLearningVideos = async (\n  topicId: string\n): Promise<BaseResponse<LearningMateri[]>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_LEARNING}/video/${topicId}`);\n  return res.data;\n};\n\nexport const getMemberLearningView = async (\n  slug: string\n): Promise<BaseResponse<LearningMateri>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_LEARNING}/view/${slug}`);\n  return res.data;\n};\n","import { Ref, ref } from \"vue\";\n\ntype Options = {\n  debounce: number;\n};\n\ntype WiseFetch = <T = any, W = any>(\n  handler: (params?: W) => Promise<any>,\n  options?: Options,\n  params?: W\n) => {\n  data: Ref<T | null>;\n  pending: Ref<boolean>;\n  execute: (params?: W) => Promise<void>;\n  error: Ref<any | null>;\n  reset: () => void;\n};\n\n/**\n * @param handler is function / async function\n * @param options so-far only \"debounce\" with type number\n * @returns\n *   data: Ref<T | null> ,\n *   pending: Ref<boolean> ,\n *   execute: (params?: W) => Promise<void> ,\n *   error: Ref<any | null> ,\n *   reset: () => void ,\n */\nconst useWiseFetch: WiseFetch = (handler, options) => {\n  const fetchData = ref(null);\n  const fetchPending = ref(false);\n  const fetchError = ref(null);\n\n  let callId = 0;\n\n  const execute = async (params?: any) => {\n    callId += 1;\n    const currCallId = callId;\n\n    fetchPending.value = true;\n\n    await new Promise((resolve) => setTimeout(resolve, options?.debounce || 0));\n\n    // Another fetch invocation has already been made.\n    // This call is stale, we should not continue.\n    if (currCallId !== callId) {\n      return;\n    }\n\n    try {\n      const response = await handler(params);\n      fetchData.value = response;\n      fetchError.value = null;\n    } catch (err: any) {\n      console.error(\"err useWiseFetch \", err);\n      console.error(\"err response useWiseFetch \", err?.response);\n      fetchError.value = err?.response;\n      fetchData.value = null;\n    } finally {\n      fetchPending.value = false;\n    }\n  };\n\n  const fetchReset = () => {\n    fetchData.value = null;\n    fetchPending.value = false;\n    fetchError.value = null;\n    callId = 0;\n  };\n\n  return {\n    data: fetchData,\n    pending: fetchPending,\n    execute,\n    error: fetchError,\n    reset: fetchReset,\n  };\n};\n\nexport default useWiseFetch;\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"w-full h-full\" }\nconst _hoisted_2 = { class: \"intro-y flex items-center justify-between h-10 my-5\" }\nconst _hoisted_3 = { class: \"text-lg font-medium truncate mr-5\" }\nconst _hoisted_4 = {\n  class: \"h-full w-full flex flex-col\",\n  style: {\"height\":\"'1000px'\"}\n}\nconst _hoisted_5 = [\"height\", \"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_LoadingDiv = _resolveComponent(\"LoadingDiv\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"h2\", _hoisted_3, \" Materi Video \" + _toDisplayString(`\"${_ctx.prettierMateriVideo?.title}\"`), 1)\n    ]),\n    (!_ctx.isLoadedVideo)\n      ? (_openBlock(), _createBlock(_component_LoadingDiv, {\n          key: 0,\n          class: \"mt-5\"\n        }))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"iframe\", {\n        class: \"w-full h-full\",\n        height: _ctx.heightVideo,\n        src: _ctx.prettierMateriVideo?.content,\n        frameborder: \"0\",\n        ref: \"frameVideo\"\n      }, null, 8, _hoisted_5)\n    ], 512), [\n      [_vShow, _ctx.isLoadedVideo]\n    ])\n  ]))\n}","\nimport { Breadcrumb, dashboardPath } from \"@/components/top-bar\";\nimport useWiseFetch from \"@/composables/useWiseFetch\";\nimport { BaseResponse } from \"@/services/types\";\nimport { getMemberLearningView } from \"@/services/v1/member/learning\";\nimport { LearningMateri } from \"@/services/v1/member/learning/types\";\nimport { setBreadcrumb } from \"@/utils/breadcrumb\";\nimport { computed, defineComponent, onMounted, ref, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nexport default defineComponent({\n  components: {},\n  setup() {\n    // START === setup breadcrumb =====================================================\n    const route = useRoute();\n    const materiVideoID = computed(() => route.params?.slug);\n\n    const pathMemberMateri = `/member/materi`;\n    const breadcrumb: Breadcrumb[] = [\n      {\n        title: \"Dashboard\",\n        to: dashboardPath,\n      },\n      {\n        title: \"Materi Pembelajaran\",\n        to: pathMemberMateri,\n      },\n      {\n        title: `Materi Video`,\n        disabled: true,\n      },\n    ];\n\n    onMounted(() => {\n      setBreadcrumb(breadcrumb);\n    });\n    // END === setup breadcrumb =======================================================\n\n    // START === get materi video detail ================================================================\n    const {\n      data: dataMateriVideo,\n      pending: pendingMateriVideo,\n      error: errorMateriVideo,\n      execute: executeMateriVideo,\n    } = useWiseFetch<BaseResponse<LearningMateri>>(() => {\n      return getMemberLearningView(materiVideoID.value as string);\n    });\n\n    const prettierMateriVideo = computed(() => {\n      return dataMateriVideo.value?.response;\n    });\n    const heightVideo = ref(100);\n\n    const frameVideo = ref();\n    const isLoadedVideo = ref(false);\n\n    const setLoadingVideo = () => {\n      frameVideo.value.onload = () => {\n        isLoadedVideo.value = true;\n      };\n    };\n\n    watch(dataMateriVideo, () => {\n      setLoadingVideo();\n    });\n\n    const setupHeightVideo = () => {\n      const heightContent = document.getElementsByClassName(\"content\")[0]\n        .clientHeight;\n\n      heightVideo.value = heightContent - 210;\n    };\n\n    watch(isLoadedVideo, (newVal) => {\n      if (newVal) setupHeightVideo();\n    });\n\n    watch(\n      materiVideoID,\n      (newVal) => {\n        if (newVal) {\n          console.log(\"materiVideoID \", newVal);\n          executeMateriVideo();\n        }\n      },\n      { immediate: true }\n    );\n\n    // END === get materi video detail ==================================================================\n\n    return {\n      heightVideo,\n      isLoadedVideo,\n      frameVideo,\n      prettierMateriVideo,\n    };\n  },\n});\n","import { render } from \"./view-video.vue?vue&type=template&id=4c41d1a2&ts=true\"\nimport script from \"./view-video.vue?vue&type=script&lang=ts\"\nexport * from \"./view-video.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/nasrullahid/Project/cpnsonline.id/fe-coid/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}