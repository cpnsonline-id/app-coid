{"version":3,"sources":["webpack:///./src/global-components/input/single-file-upload/Main.vue?a116","webpack:///./src/global-components/input/single-file-upload/Main.vue","webpack:///./src/global-components/input/single-file-upload/Main.vue?03d6"],"names":["_hoisted_1","class","_hoisted_2","key","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createElementVNode","_hoisted_10","render","_ctx","_cache","$props","$setup","$data","$options","_component_FileIcon","_resolveComponent","_openBlock","_createElementBlock","label","_toDisplayString","_createCommentVNode","onDragover","_withModifiers","onDragleave","onDrop","args","handleDrag","id","uniqueId","ref","name","hidden","type","accept","onChange","handleClick","inputValue","file","value","fileUrl","_createBlock","_createVNode","fileExtension","fileName","onClick","triggerClick","removeImage","defineComponent","props","String","default","placeholder","required","setup","emit","reactive","fileSize","event","files","dataTransfer","setFile","inputEl","target","inputFileEl","document","getElementById","click","async","size","setupFile","setFileExtension","reverseFileName","split","reverse","tempName","i","length","push","join","setupFilePreview","watch","newVal","setFileNameFromUrl","console","log","__exports__"],"mappings":"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","file":"js/chunk-2d0de39f.2ec60ccc.js","sourcesContent":["import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex flex-col items-center\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"w-full text-sm mb-1 font-semibold\"\n}\nconst _hoisted_3 = [\"id\", \"accept\"]\nconst _hoisted_4 = {\n  key: 1,\n  class: \"flex flex-col max-w-80\"\n}\nconst _hoisted_5 = { class: \"relative mx-auto\" }\nconst _hoisted_6 = { class: \"absolute w-full h-full flex items-center justify-center top-0\" }\nconst _hoisted_7 = { class: \"uppercase inline-block mt-5 text-xl font-bold text-gray-500\" }\nconst _hoisted_8 = { class: \"font-semibold mt-3 text-center truncate\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_10 = { class: \"flex flex-row w-full justify-center\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileIcon = _resolveComponent(\"FileIcon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.label)\n      ? (_openBlock(), _createElementBlock(\"label\", _hoisted_2, _toDisplayString(_ctx.label) + \" : \", 1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"flex flex-col items-center justify-center w-full min-h-32 p-5 border-2 border-dashed border-gray-600 dark:border-gray-500 bg-gray-300 dark:bg-gray-900 rounded-md\",\n      onDragover: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n      onDragleave: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"])),\n      onDrop: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleDrag && _ctx.handleDrag(...args)), [\"prevent\"]))\n    }, [\n      _createElementVNode(\"input\", {\n        id: 'fileUpload' + _ctx.uniqueId,\n        ref: \"fileInputEl\",\n        name: \"file-input\",\n        hidden: \"\",\n        type: \"file\",\n        accept: _ctx.accept,\n        onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args)))\n      }, null, 40, _hoisted_3),\n      (!_ctx.inputValue.file && !_ctx.value && !_ctx.fileUrl)\n        ? (_openBlock(), _createBlock(_component_FileIcon, {\n            key: 0,\n            class: \"w-28 h-28 text-gray-500\"\n          }))\n        : _createCommentVNode(\"\", true),\n      (_ctx.inputValue.file || _ctx.fileUrl)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createVNode(_component_FileIcon, { class: \"w-28 h-28 text-gray-500\" }),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.inputValue.fileExtension), 1)\n              ])\n            ]),\n            _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_ctx.inputValue.fileName), 1)\n          ]))\n        : _createCommentVNode(\"\", true),\n      _hoisted_9,\n      _createElementVNode(\"div\", _hoisted_10, [\n        _createElementVNode(\"button\", {\n          class: \"button w-32 border bg-white text-gray-700 dark:bg-dark-5 dark:text-gray-300\",\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.triggerClick && _ctx.triggerClick(...args)))\n        }, \" Pilih File \"),\n        (_ctx.value)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              class: \"button w-32 bg-theme-6 text-white ml-4\",\n              onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.removeImage && _ctx.removeImage(...args)))\n            }, \" Hapus File \"))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 32)\n  ]))\n}","\nimport { defineComponent, reactive, watch } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    label: {\n      type: String,\n      default: \"\",\n    },\n    placeholder: {\n      type: String,\n      default: \"\",\n    },\n    value: {\n      type: String,\n      default: \"\",\n    },\n    accept: {\n      type: String,\n      default: \".pdf\",\n    },\n    uniqueId: {\n      type: String,\n      default: \"\",\n      required: true,\n    },\n    fileUrl: {\n      type: String,\n      default: \"\",\n    },\n  },\n  setup(props, { emit }) {\n    const inputValue = reactive({\n      file: null as File | Blob | null,\n      fileName: \"\",\n      fileSize: 0,\n      fileUrl: \"\",\n      fileExtension: \"\",\n    });\n\n    const handleDrag = (event: DragEvent) => {\n      const files = event.dataTransfer?.files || [];\n      setFile(files[0]);\n    };\n\n    const handleClick = (event: any) => {\n      const inputEl = event.target as HTMLInputElement;\n      const files = inputEl.files || [];\n      setFile(files[0]);\n      inputEl.value = \"\";\n    };\n\n    const triggerClick = () => {\n      const id = `fileUpload${props.uniqueId}`;\n      const inputFileEl: any = document.getElementById(id);\n      inputFileEl.click();\n    };\n\n    const setFile = async (file: File) => {\n      if (!file) {\n        return false;\n      }\n\n      inputValue.file = file;\n      inputValue.fileName = file.name;\n      inputValue.fileSize = file.size;\n\n      const setupFile: any = file;\n\n      emit(\"update:value\", setupFile);\n\n      return true;\n    };\n\n    const setFileExtension = (fileName: string) => {\n      const reverseFileName = fileName.split(\"\").reverse();\n      const tempName = [] as string[];\n\n      for (let i = 0; i < reverseFileName.length; i++) {\n        if (reverseFileName[i] === \".\") break;\n        tempName.push(reverseFileName[i]);\n      }\n\n      // update fileExtension\n      inputValue.fileExtension = tempName.reverse().join(\"\");\n    };\n\n    const setupFilePreview = () => {\n      const fileUrl = props.fileUrl;\n      if (fileUrl) return fileUrl;\n\n      setFileExtension(inputValue.fileName);\n    };\n\n    watch(\n      () => props.value,\n      (newVal) => {\n        if (newVal) setupFilePreview();\n      }\n    );\n\n    const setFileNameFromUrl = (fileUrl: string) => {\n      const reverseFileName = fileUrl.split(\"\").reverse();\n      const tempName = [] as string[];\n\n      for (let i = 0; i < reverseFileName.length; i++) {\n        if (reverseFileName[i] === \"/\") break;\n        tempName.push(reverseFileName[i]);\n      }\n\n      // update fileName\n      inputValue.fileName = tempName.reverse().join(\"\");\n    };\n\n    watch(\n      () => props.fileUrl,\n      (newVal) => {\n        console.log(\"newVal props.fileUrl \", newVal);\n\n        if (newVal) {\n          setFileNameFromUrl(newVal);\n          setFileExtension(newVal);\n        }\n      }\n    );\n\n    const removeImage = () => {\n      inputValue.file = null;\n      inputValue.fileName = \"\";\n      inputValue.fileSize = 0;\n\n      emit(\"update:value\", \"\");\n    };\n\n    return {\n      inputValue,\n      handleDrag,\n      handleClick,\n      triggerClick,\n      removeImage,\n    };\n  },\n});\n","import { render } from \"./Main.vue?vue&type=template&id=576492ac&ts=true\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/nasrullahid/Project/cpnsonline.id/fe-coid/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}