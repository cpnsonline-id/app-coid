(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d231"],{f5e1:function(e,t,o){"use strict";o.r(t);var l=o("7a23");const a={class:"flex flex-col"},n={class:"flex flex-row justify-end"};function i(e,t,o,i,c,s){const d=Object(l["J"])("TextField"),r=Object(l["J"])("SingleImageUpload"),u=Object(l["J"])("Autocomplete"),b=Object(l["J"])("RadioGroup"),p=Object(l["J"])("ModalTemplate");return Object(l["B"])(),Object(l["e"])(p,{"modal-id":e.modalId,title:e.titleForm,size:"xl"},{content:Object(l["V"])(()=>[Object(l["h"])("div",a,[Object(l["k"])(d,{value:e.form.title,"onUpdate:value":t[0]||(t[0]=t=>e.form.title=t),label:"Title",type:"text",placeholder:"Masukkan title",class:"w-full mb-4"},null,8,["value"]),Object(l["k"])(r,{label:"Banner",value:e.form.banner.file,"onUpdate:value":t[1]||(t[1]=t=>e.form.banner.file=t),"file-url":e.form.banner.fileUrl,"unique-id":"ImageBanner",accept:".png, .jpg, .jpeg, .svg",class:"mb-4"},null,8,["value","file-url"]),Object(l["k"])(u,{value:e.form.idCategory,"onUpdate:value":t[2]||(t[2]=t=>e.form.idCategory=t),label:"Kategori",items:e.categories,class:"w-full mb-4"},null,8,["value","items"]),Object(l["k"])(b,{label:"Status",items:e.listStatus,value:e.form.isActive,"onUpdate:value":t[3]||(t[3]=t=>e.form.isActive=t),"unique-id":"FieldStatus"},null,8,["items","value"])])]),buttons:Object(l["V"])(()=>[Object(l["h"])("div",n,[Object(l["h"])("button",{type:"button",class:"button w-20 bg-theme-6 text-white mr-2",onClick:t[4]||(t[4]=(...t)=>e.onCancelClick&&e.onCancelClick(...t))}," Batal "),Object(l["h"])("button",{type:"button",class:"button w-20 bg-theme-1 text-white",onClick:t[5]||(t[5]=(...t)=>e.onSaveClick&&e.onSaveClick(...t))},Object(l["N"])(e.isEditPage?"Perbarui":"Simpan"),1)])]),_:1},8,["modal-id","title"])}var c=o("33d8"),s=o("4980");const d=Object(l["l"])(()=>o.e("chunk-2d0b61df").then(o.bind(null,"1c90"))),r=Object(l["l"])(()=>o.e("chunk-2d0cc9c9").then(o.bind(null,"4f56"))),u=Object(l["l"])(()=>o.e("chunk-1fcce625").then(o.bind(null,"e723"))),b=Object(l["l"])(()=>o.e("chunk-2d0d3627").then(o.bind(null,"5d13"))),p=Object(l["l"])(()=>o.e("chunk-2bcf108f").then(o.bind(null,"560d"))),g=async()=>o.e("chunk-2d0df461").then(o.bind(null,"88e0")),v=async()=>o.e("chunk-2d0c8bc4").then(o.bind(null,"55c1"));var m=Object(l["m"])({props:{showFormTopic:{type:Boolean,default:!1},topicId:{type:Number,default:0}},components:{ModalTemplate:d,TextField:r,SingleImageUpload:u,Autocomplete:b,RadioGroup:p},setup(e,{emit:t}){const o="modal-form-topic",a=Object(l["c"])(()=>e.topicId),n=Object(l["c"])(()=>!!a.value),i=Object(l["c"])(()=>n.value?"Form Edit Topik":"Form Add Topik"),d=[{text:"Active",value:"1"},{text:"Inactive",value:"0"}],r=Object(l["G"])([]),u=async()=>{const{getAdminLearningCategories:e}=await g();try{const t=await e(),o=null===t||void 0===t?void 0:t.response;r.value=o.map(e=>({...e,text:e.title,value:e.id.toString()}))}catch(t){console.error("err getCategories ",t,null===t||void 0===t?void 0:t.response)}},b=()=>{m(),t("update:show-form-topic",!1),t("update:topic-id",0)};Object(l["U"])(()=>e.showFormTopic,t=>{console.log("props.showFormTopic newVal ",e),t&&c["b"].showModal("#"+o),c["b"].onHideModal("#"+o,b),u()});const p=Object(l["F"])({title:"",banner:{file:"",fileUrl:""},idCategory:"",isActive:"0"}),m=()=>{p.title="",p.banner={file:"",fileUrl:""},p.idCategory="",p.isActive="0"},f=async()=>{const{getAdminLearningTopicById:e}=await v();c["b"].gLoading.show();try{const t=await e(a.value.toString());await Object(l["s"])();const o=t.response;console.log("resData getDetailCategory ",o),p.title=o.title,p.banner.fileUrl=o.banner,p.isActive=o.isActive?"1":"0",console.log("form ",p)}catch(t){console.log("err response getDetailCategory ",t,null===t||void 0===t?void 0:t.response),c["b"].handleEds(t)}finally{c["b"].gLoading.hide()}};Object(l["U"])(()=>n.value,e=>{console.log("newVal isEditPage.value ",e),e&&f()});const h=()=>c["b"].hideModal("#"+o),j=()=>{console.log("topic ID ",a.value),console.log("topic Slug ",a.value),n.value?O():y()},w=()=>{c["b"].hideModal("#"+o),t("update:refetch",!0)},y=async()=>{const{postAdminLearningTopic:e}=await v();c["b"].gLoading.show();const t=new FormData;t.append("title",p.title),t.append("banner",p.banner.file),t.append("isActive","1"===p.isActive?"1":"0"),t.append("idCategory",p.idCategory);try{await e(t),Object(s["a"])({type:"s",message:"Successfully Created Topik"}).show(),w()}catch(a){var o,l;console.error("err hitAddCategory ",a,null===a||void 0===a?void 0:a.response);const e=null===a||void 0===a||null===(o=a.response)||void 0===o?void 0:o.data,t=null===e||void 0===e||null===(l=e.diagnostic)||void 0===l?void 0:l.message;Object(s["a"])({type:"f",message:t}).show()}finally{c["b"].gLoading.hide()}},O=async()=>{const{putAdminLearningTopic:e}=await v();c["b"].gLoading.show();const t=new FormData;t.append("title",p.title);const o=p.banner.file;o?t.append("banner",o):t.append("banner",""),t.append("isActive","1"===p.isActive?"1":"0"),t.append("idCategory",p.idCategory);try{await e(a.value.toString(),t),Object(s["a"])({type:"s",message:"Successfully Updated Topik"}).show(),w()}catch(i){var l,n;console.error("err hitEditCategory ",i,null===i||void 0===i?void 0:i.response);const e=null===i||void 0===i||null===(l=i.response)||void 0===l?void 0:l.data,t=null===e||void 0===e||null===(n=e.diagnostic)||void 0===n?void 0:n.message;Object(s["a"])({type:"f",message:t}).show()}finally{c["b"].gLoading.hide()}};return{modalId:o,isEditPage:n,titleForm:i,listStatus:d,form:p,categories:r,onCancelClick:h,onSaveClick:j}}}),f=o("6b0d"),h=o.n(f);const j=h()(m,[["render",i]]);t["default"]=j}}]);
//# sourceMappingURL=chunk-2d22d231.05c54f02.js.map