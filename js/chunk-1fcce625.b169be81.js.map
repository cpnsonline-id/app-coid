{"version":3,"sources":["webpack:///./src/global-components/input/single-image-upload/Main.vue","webpack:///./src/global-components/input/single-image-upload/Main.vue?7940","webpack:///./src/global-components/input/single-image-upload/Main.vue?c365"],"names":["defineComponent","props","label","type","String","default","placeholder","value","accept","uniqueId","required","fileUrl","setup","emit","inputValue","reactive","file","fileName","fileSize","handleDrag","event","files","dataTransfer","setFile","handleClick","inputEl","target","triggerClick","id","inputFileEl","document","getElementById","click","async","name","size","setupFile","renderAsImage","imagePreviewId","reader","FileReader","readAsDataURL","onload","e","cash","attr","result","watch","newVal","renderFileUrl","nextTick","reverseFileName","split","reverse","tempName","i","length","push","join","removeImage","_hoisted_1","class","_hoisted_2","key","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementVNode","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_ImageIcon","_resolveComponent","_openBlock","_createElementBlock","_toDisplayString","_createCommentVNode","onDragover","_withModifiers","onDragleave","onDrop","args","ref","hidden","onChange","_createBlock","src","alt","onClick","__exports__"],"mappings":"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","file":"js/chunk-1fcce625.b169be81.js","sourcesContent":["\nimport { defineComponent, nextTick, reactive, watch } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    label: {\n      type: String,\n      default: \"\",\n    },\n    placeholder: {\n      type: String,\n      default: \"\",\n    },\n    value: {\n      type: String,\n      default: \"\",\n    },\n    accept: {\n      type: String,\n      default: \".png\",\n    },\n    uniqueId: {\n      type: String,\n      default: \"\",\n      required: true,\n    },\n    fileUrl: {\n      type: String,\n      default: \"\",\n    },\n  },\n  setup(props, { emit }) {\n    const inputValue = reactive({\n      file: null as File | Blob | null,\n      fileName: \"\",\n      fileSize: 0,\n      fileUrl: \"\",\n    });\n\n    const handleDrag = (event: DragEvent) => {\n      const files = event.dataTransfer?.files || [];\n      setFile(files[0]);\n    };\n\n    const handleClick = (event: any) => {\n      const inputEl = event.target as HTMLInputElement;\n      const files = inputEl.files || [];\n      setFile(files[0]);\n      inputEl.value = \"\";\n    };\n\n    const triggerClick = () => {\n      const id = `fileImage${props.uniqueId}`;\n      const inputFileEl: any = document.getElementById(id);\n      inputFileEl.click();\n    };\n\n    const setFile = async (file: File) => {\n      if (!file) {\n        return false;\n      }\n\n      inputValue.file = file;\n      inputValue.fileName = file.name;\n      inputValue.fileSize = file.size;\n\n      const setupFile: any = file;\n\n      emit(\"update:value\", setupFile);\n      return true;\n    };\n\n    const renderAsImage = async () => {\n      const file = inputValue.file;\n      if (!file) return;\n\n      const imagePreviewId = `#imagePreview${props.uniqueId}`;\n\n      const reader = new FileReader();\n      reader.readAsDataURL(file as File);\n      reader.onload = function (e: any) {\n        cash(imagePreviewId).attr(\"src\", e.target.result);\n      };\n    };\n\n    watch(\n      () => props.value,\n      (newVal) => {\n        if (newVal) renderAsImage();\n      }\n    );\n\n    const renderFileUrl = async (fileUrl: string) => {\n      await nextTick();\n\n      // setup name file\n      const reverseFileName = fileUrl.split(\"\").reverse();\n      const tempName = [] as string[];\n\n      for (let i = 0; i < reverseFileName.length; i++) {\n        if (reverseFileName[i] === \"/\") break;\n        tempName.push(reverseFileName[i]);\n      }\n\n      // update fileName\n      inputValue.fileName = tempName.reverse().join(\"\");\n\n      // show existing image\n      const imagePreviewId = `#imagePreview${props.uniqueId}`;\n      cash(imagePreviewId).attr(\"src\", fileUrl);\n    };\n\n    watch(\n      () => props.fileUrl,\n      (newVal) => {\n        renderFileUrl(newVal);\n      }\n    );\n\n    const removeImage = () => {\n      inputValue.file = null;\n      inputValue.fileName = \"\";\n      inputValue.fileSize = 0;\n\n      emit(\"update:value\", \"\");\n    };\n\n    return {\n      inputValue,\n      handleDrag,\n      handleClick,\n      triggerClick,\n      removeImage,\n    };\n  },\n});\n","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex flex-col items-center\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"w-full text-sm mb-1 font-semibold\"\n}\nconst _hoisted_3 = [\"id\", \"accept\"]\nconst _hoisted_4 = {\n  key: 1,\n  class: \"flex flex-col w-full\"\n}\nconst _hoisted_5 = [\"id\"]\nconst _hoisted_6 = { class: \"font-semibold mt-3 text-center truncate\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_8 = { class: \"flex flex-row w-full justify-center\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ImageIcon = _resolveComponent(\"ImageIcon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.label)\n      ? (_openBlock(), _createElementBlock(\"label\", _hoisted_2, _toDisplayString(_ctx.label) + \" : \", 1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: \"flex flex-col items-center justify-center w-full min-h-32 p-5 border-2 border-dashed border-gray-600 dark:border-gray-500 bg-gray-300 dark:bg-gray-900 rounded-md\",\n      onDragover: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"])),\n      onDragleave: _cache[4] || (_cache[4] = _withModifiers(() => {}, [\"prevent\"])),\n      onDrop: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.handleDrag && _ctx.handleDrag(...args)), [\"prevent\"]))\n    }, [\n      _createElementVNode(\"input\", {\n        id: 'fileImage' + _ctx.uniqueId,\n        ref: \"fileInputEl\",\n        name: \"file-input\",\n        hidden: \"\",\n        type: \"file\",\n        accept: _ctx.accept,\n        onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleClick && _ctx.handleClick(...args)))\n      }, null, 40, _hoisted_3),\n      (!_ctx.inputValue.file && !_ctx.value && !_ctx.fileUrl)\n        ? (_openBlock(), _createBlock(_component_ImageIcon, {\n            key: 0,\n            class: \"w-28 h-28 text-gray-500\"\n          }))\n        : _createCommentVNode(\"\", true),\n      (_ctx.inputValue.file || _ctx.fileUrl)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _createElementVNode(\"img\", {\n              id: 'imagePreview' + _ctx.uniqueId,\n              src: \"\",\n              alt: \"file-upload\",\n              class: \"max-w-52 mx-auto\"\n            }, null, 8, _hoisted_5),\n            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_ctx.inputValue.fileName), 1)\n          ]))\n        : _createCommentVNode(\"\", true),\n      _hoisted_7,\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createElementVNode(\"button\", {\n          class: \"button w-32 border bg-white text-gray-700 dark:bg-dark-5 dark:text-gray-300\",\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.triggerClick && _ctx.triggerClick(...args)))\n        }, \" Pilih Image \"),\n        (_ctx.value)\n          ? (_openBlock(), _createElementBlock(\"button\", {\n              key: 0,\n              class: \"button w-32 bg-theme-6 text-white ml-4\",\n              onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.removeImage && _ctx.removeImage(...args)))\n            }, \" Hapus Image \"))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 32)\n  ]))\n}","import { render } from \"./Main.vue?vue&type=template&id=7e1892a8&ts=true\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/nasrullahid/Project/cpnsonline.id/fe-coid/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}