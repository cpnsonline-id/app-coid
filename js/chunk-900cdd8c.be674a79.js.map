{"version":3,"sources":["webpack:///./src/views/member/cat-cpns/Main.vue?9e0c","webpack:///./src/features/cat-list/main.vue?5173","webpack:///./src/features/cat-list/main.vue","webpack:///./src/features/cat-list/main.vue?ed4f","webpack:///./src/views/member/cat-cpns/Main.vue","webpack:///./src/views/member/cat-cpns/Main.vue?e9e0","webpack:///./src/services/v1/member/cat/index.ts","webpack:///./src/services/v1/tentor/cat/index.ts","webpack:///./src/services/v1/feature/cat/index.ts","webpack:///./src/composables/useWiseFetch.ts"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_CatListMain","_resolveComponent","_openBlock","_createBlock","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","href","_hoisted_7","_hoisted_8","_component_PageTitleMain","_component_LoadingDiv","_component_ModalPassingGrade","_createElementBlock","_createVNode","pageTitle","executeListCatCpns","_createElementVNode","pendingListCatCpns","key","id","_createCommentVNode","_Fragment","_renderList","prettierListCatCpns","catCpns","fakerKey","onClick","$event","onCardClick","kode","alt","src","image","innerHTML","title","chosenCpnsCode","ModalPassingGrade","defineAsyncComponent","defineComponent","components","props","type","String","default","setup","ref","async","value","cpnsCode","gpf","showModal","data","dataListCatCpns","pending","error","errorListCatCpns","execute","useWiseFetch","isMember","getMemberJenisCat","isTentor","getTentorJenisCat","getFeatureJenisCat","computed","resData","response","onMounted","__exports__","CatListMain","breadcrumb","to","dashboardPath","disabled","setBreadcrumb","BASE_URL_MEMBER_CAT","HOST_API_V1","getMemberCatQuestion","jenis","config","res","$api","get","postMemberCatSubmit","kodeExam","payload","configAppJson","post","getMemberCatResult","getMemberCatPembahasan","getMemberCatPassingGrade","getMemberCatHistory","BASE_URL_TENTOR_CAT","BASE_URL_FEATURE_CAT","getFeatureCatQuestion","postFeatureCatSubmit","getFeatureCatResult","getFeatureCatPembahasan","getFeatureCatPassingGrade","getFeatureCatHistory","handler","options","fetchData","fetchPending","fetchError","callId","currCallId","Promise","resolve","setTimeout","debounce","params","err","console","fetchReset","reset"],"mappings":"yIAEM,SAAUA,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,EAAyBC,eAAkB,eAEjD,OAAQC,iBAAcC,eAAaH,EAAwB,CAAE,aAAc,a,4BCH7E,MAAMI,EAAa,CAAEC,MAAO,iBACtBC,EAAa,CAAED,MAAO,8CACtBE,EAAa,CAAEF,MAAO,4CACtBG,EAAa,CAAC,WACdC,EAAa,CAAEJ,MAAO,oDACtBK,EAAa,CACjBC,KAAM,eACNN,MAAO,0BAEHO,EAAa,CAAC,OACdC,EAAa,CAAC,aAEd,SAAUpB,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMe,EAA2Bb,eAAkB,iBAC7Cc,EAAwBd,eAAkB,cAC1Ce,EAA+Bf,eAAkB,qBAEvD,OAAQC,iBAAce,eAAoB,MAAOb,EAAY,CAC3Dc,eAAaJ,EAA0B,CACrC,aAAcpB,EAAKyB,UACnB,qBAAsB,GACtB,uBAAwBzB,EAAK0B,oBAC5B,KAAM,EAAG,CAAC,aAAc,yBAC3BC,eAAoB,MAAOf,EAAY,CACrCe,eAAoB,MAAOd,EAAY,CACpCb,EAAK4B,oBACDpB,iBAAcC,eAAaY,EAAuB,CACjDQ,IAAK,EACLC,GAAI,oBAENC,eAAoB,IAAI,IAC3BvB,gBAAW,GAAOe,eAAoBS,OAAW,KAAMC,eAAYjC,EAAKkC,oBAAqB,CAACC,EAASC,KAC9F5B,iBAAce,eAAoB,MAAO,CAC/CM,IAAKO,EACLzB,MAAO,gEACP0B,QAAUC,GAAiBtC,EAAKuC,YAAYJ,EAAQK,OACnD,CACDb,eAAoB,MAAOZ,EAAY,CACrCY,eAAoB,IAAKX,EAAY,CACnCW,eAAoB,MAAO,CACzBc,IAAK,iBACL9B,MAAO,eACP+B,IAAK,QAAQP,EAAQQ,OACpB,KAAM,EAAGzB,KAEdS,eAAoB,OAAQ,CAC1BhB,MAAO,+CACPiC,UAAWT,EAAQU,OAClB,KAAM,EAAG1B,MAEb,EAAGL,KACJ,UAGRU,eAAaF,EAA8B,CACzC,YAAatB,EAAK8C,eAClB,YAAa,QACZ,KAAM,EAAG,CAAC,gB,4EC1CjB,MAAMC,EAAoBC,eACxB,IAAM,iDAGOC,qBAAgB,CAC7BC,WAAY,CACVH,qBAEFI,MAAO,CACL1B,UAAW,CACT2B,KAAMC,OACNC,QAAS,KAGbC,QACE,MAAMT,EAAiBU,eAAI,IAErBjB,EAAckB,UAClBX,EAAeY,MAAQC,EACvBC,OAAIC,UAAU,qBAIdC,KAAMC,EACNC,QAASpC,EACTqC,MAAOC,EACPC,QAASzC,GACP0C,eAAkD,IAChDC,OAASX,MACJY,eAAkB,QAChBC,OAASb,MACXc,iBAEAC,eAAmB,SAIxBvC,EAAsBwC,eAAS,KAAK,MACxC,MAAMC,EAAO,UAAGZ,EAAgBL,aAAnB,aAAG,EAAuBkB,SACvC,OAAOD,IAKT,OAFAE,eAAUnD,GAEH,CACLa,cACAqB,WAEAlC,qBACAE,qBACAM,sBAEAY,qB,qBChEN,MAAMgC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QCDA7B,iBAAgB,CAC7BC,WAAY,CACV6B,eAEFxB,QAEE,MAAMyB,EAA2B,CAC/B,CACEnC,MAAO,YACPoC,GAAIC,QAEN,CACErC,MAAO,WACPoC,GAAOC,OAAH,YACJC,UAAU,IASd,OALAN,eAAU,KACRO,eAAcJ,KAIT,MCxBX,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASjF,KAErD,gB,oCCNf,0QAWA,MAAMsF,EAAsBC,OAAc,aAE7BC,EAAuB9B,MAClC+B,EACApC,EACAqC,KAEA,MAAMC,QAAYC,iBAAOC,IACvB,GAAGP,cAAgCG,KAASpC,IAC5CqC,GAEF,OAAOC,EAAI5B,MAGA+B,EAAsBpC,MACjCqC,EACAC,KAEA,MAAMN,EAASO,iBAETN,QAAYC,iBAAOM,KACvB,GAAGZ,YAA8BS,IACjCC,EACAN,GAGF,OAAOC,EAAI5B,MAGAoC,EAAqBzC,UAGhC,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGP,YAA8BS,KAC9D,OAAOJ,EAAI5B,MAGAqC,EAAyB1C,UAGpC,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGP,gBAAkCS,KAClE,OAAOJ,EAAI5B,MAGAQ,EAAoBb,UAG/B,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGP,WAA6BjC,KAC7D,OAAOsC,EAAI5B,MAGAsC,EAA2B3C,UAGtC,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGP,mBAAqCjC,KACrE,OAAOsC,EAAI5B,MAGAuC,EAAsB5C,UAGjC,MAAMiC,QAAYC,iBAAOC,IAAOP,EAAH,WAAkCI,GAC/D,OAAOC,EAAI5B,O,kCCxEb,8DAWA,MAAMwC,EAAsBhB,OAAc,aA0C7Bd,EAAoBf,UAG/B,MAAMiC,QAAYC,iBAAOC,IAAOU,EAAH,WAC7B,OAAOZ,EAAI5B,O,oCCzDb,0QASA,MAAMyC,EAAuBjB,OAAc,cAE9BkB,EAAwB/C,MACnCL,EACAqC,KAEA,MAAMC,QAAYC,iBAAOC,IACvB,GAAGW,cAAiCnD,IACpCqC,GAEF,OAAOC,EAAI5B,MAGA2C,EAAuBhD,MAClCqC,EACAC,KAEA,MAAMN,EAASO,iBAETN,QAAYC,iBAAOM,KACvB,GAAGM,YAA+BT,IAClCC,EACAN,GAGF,OAAOC,EAAI5B,MAGA4C,EAAsBjD,UAGjC,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGW,YAA+BT,KAC/D,OAAOJ,EAAI5B,MAGA6C,EAA0BlD,UAGrC,MAAMiC,QAAYC,iBAAOC,IACvB,GAAGW,gBAAmCT,KAExC,OAAOJ,EAAI5B,MAGAW,EAAqBhB,UAGhC,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGW,WAA8BnD,KAC9D,OAAOsC,EAAI5B,MAGA8C,EAA4BnD,UAGvC,MAAMiC,QAAYC,iBAAOC,IAAI,GAAGW,mBAAsCnD,KACtE,OAAOsC,EAAI5B,MAGA+C,EAAuBpD,UAGlC,MAAMiC,QAAYC,iBAAOC,IAAOW,EAAH,WAAmCd,GAChE,OAAOC,EAAI5B,O,oCCxEb,gBA4BA,MAAMM,EAA0B,CAAC0C,EAASC,KACxC,MAAMC,EAAYxD,eAAI,MAChByD,EAAezD,gBAAI,GACnB0D,EAAa1D,eAAI,MAEvB,IAAI2D,EAAS,EAEb,MAAMhD,EAAUV,UACd0D,GAAU,EACV,MAAMC,EAAaD,EAQnB,GANAF,EAAavD,OAAQ,QAEf,IAAI2D,QAASC,GAAYC,WAAWD,GAAgB,OAAPP,QAAO,IAAPA,OAAA,EAAAA,EAASS,WAAY,IAIpEJ,IAAeD,EAInB,IACE,MAAMvC,QAAiBkC,EAAQW,GAC/BT,EAAUtD,MAAQkB,EAClBsC,EAAWxD,MAAQ,KACnB,MAAOgE,GACPC,QAAQ1D,MAAM,oBAAqByD,GACnCC,QAAQ1D,MAAM,6BAAd,OAA4CyD,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAK9C,UACjDsC,EAAWxD,MAAX,OAAmBgE,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAK9C,SACxBoC,EAAUtD,MAAQ,KARpB,QAUEuD,EAAavD,OAAQ,IAInBkE,EAAa,KACjBZ,EAAUtD,MAAQ,KAClBuD,EAAavD,OAAQ,EACrBwD,EAAWxD,MAAQ,KACnByD,EAAS,GAGX,MAAO,CACLrD,KAAMkD,EACNhD,QAASiD,EACT9C,UACAF,MAAOiD,EACPW,MAAOD,IAIIxD","file":"js/chunk-900cdd8c.be674a79.js","sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_CatListMain = _resolveComponent(\"CatListMain\")!\n\n  return (_openBlock(), _createBlock(_component_CatListMain, { \"page-title\": \"CAT CPNS\" }))\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"cat-cpns-page\" }\nconst _hoisted_2 = { class: \"col-span-12 lg:col-span-12 xxl:col-span-12\" }\nconst _hoisted_3 = { class: \"intro-y grid grid-cols-12 gap-3 sm:gap-6\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"file box rounded-lg shadow pb-1 relative zoom-in\" }\nconst _hoisted_6 = {\n  href: \"javascript:;\",\n  class: \"w-5/5 lg:w-5/6 mx-auto\"\n}\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = [\"innerHTML\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_PageTitleMain = _resolveComponent(\"PageTitleMain\")!\n  const _component_LoadingDiv = _resolveComponent(\"LoadingDiv\")!\n  const _component_ModalPassingGrade = _resolveComponent(\"ModalPassingGrade\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_PageTitleMain, {\n      \"page-title\": _ctx.pageTitle,\n      \"with-reload-button\": \"\",\n      \"action-reload-button\": _ctx.executeListCatCpns\n    }, null, 8, [\"page-title\", \"action-reload-button\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_ctx.pendingListCatCpns)\n          ? (_openBlock(), _createBlock(_component_LoadingDiv, {\n              key: 0,\n              id: \"loadingCatCpns\"\n            }))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.prettierListCatCpns, (catCpns, fakerKey) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            key: fakerKey,\n            class: \"intro-y col-span-6 sm:col-span-4 md:col-span-3 xxl:col-span-3\",\n            onClick: ($event: any) => (_ctx.onCardClick(catCpns.kode))\n          }, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"a\", _hoisted_6, [\n                _createElementVNode(\"img\", {\n                  alt: \"cat-cpns image\",\n                  class: \"rounded-t-lg\",\n                  src: `/img/${catCpns.image}`\n                }, null, 8, _hoisted_7)\n              ]),\n              _createElementVNode(\"span\", {\n                class: \"block font-semibold text-lg my-4 text-center\",\n                innerHTML: catCpns.title\n              }, null, 8, _hoisted_8)\n            ])\n          ], 8, _hoisted_4))\n        }), 128))\n      ])\n    ]),\n    _createVNode(_component_ModalPassingGrade, {\n      \"cpns-code\": _ctx.chosenCpnsCode,\n      \"jenis-cat\": \"cpns\"\n    }, null, 8, [\"cpns-code\"])\n  ]))\n}","\nimport useWiseFetch from \"@/composables/useWiseFetch\";\nimport { BaseResponse } from \"@/services/types\";\nimport { getFeatureJenisCat } from \"@/services/v1/feature/cat\";\nimport { getMemberJenisCat } from \"@/services/v1/member/cat\";\nimport { getTentorJenisCat } from \"@/services/v1/tentor/cat\";\nimport type { ResponseListCatCpns } from \"@/services/v1/member/cat/types\";\nimport { gpf } from \"@/utils/global-functions\";\nimport { isMember, isTentor } from \"@/utils/roles\";\nimport {\n  computed,\n  defineAsyncComponent,\n  defineComponent,\n  onMounted,\n  ref,\n} from \"vue\";\n\nconst ModalPassingGrade = defineAsyncComponent(\n  () => import(`./modal-passing-grade.vue`)\n);\n\nexport default defineComponent({\n  components: {\n    ModalPassingGrade,\n  },\n  props: {\n    pageTitle: {\n      type: String,\n      default: \"\",\n    },\n  },\n  setup() {\n    const chosenCpnsCode = ref(\"\");\n\n    const onCardClick = async (cpnsCode: string) => {\n      chosenCpnsCode.value = cpnsCode;\n      gpf.showModal(\"#modal-cat-cpns\");\n    };\n\n    const {\n      data: dataListCatCpns,\n      pending: pendingListCatCpns,\n      error: errorListCatCpns,\n      execute: executeListCatCpns,\n    } = useWiseFetch<BaseResponse<ResponseListCatCpns[]>>(() => {\n      if (isMember.value) {\n        return getMemberJenisCat(\"cpns\");\n      } else if (isTentor.value) {\n        return getTentorJenisCat();\n      } else {\n        return getFeatureJenisCat(\"cpns\");\n      }\n    });\n\n    const prettierListCatCpns = computed(() => {\n      const resData = dataListCatCpns.value?.response;\n      return resData;\n    });\n\n    onMounted(executeListCatCpns);\n\n    return {\n      onCardClick,\n      gpf,\n\n      executeListCatCpns,\n      pendingListCatCpns,\n      prettierListCatCpns,\n\n      chosenCpnsCode,\n    };\n  },\n});\n","import { render } from \"./main.vue?vue&type=template&id=7b998b59&ts=true\"\nimport script from \"./main.vue?vue&type=script&lang=ts\"\nexport * from \"./main.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/nasrullahid/Project/cpnsonline.id/fe-coid/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { Breadcrumb, dashboardPath } from \"@/components/top-bar\";\nimport { setBreadcrumb } from \"@/utils/breadcrumb\";\nimport { defineComponent, onMounted } from \"vue\";\nimport CatListMain from \"@/features/cat-list/main.vue\";\n\nexport default defineComponent({\n  components: {\n    CatListMain,\n  },\n  setup() {\n    // START === setup breadcrumb =====================================================\n    const breadcrumb: Breadcrumb[] = [\n      {\n        title: \"Dashboard\",\n        to: dashboardPath,\n      },\n      {\n        title: \"CAT CPNS\",\n        to: `${dashboardPath}/cat-cpns`,\n        disabled: true,\n      },\n    ];\n\n    onMounted(() => {\n      setBreadcrumb(breadcrumb);\n    });\n    // END === setup breadcrumb =======================================================\n\n    return {};\n  },\n});\n","import { render } from \"./Main.vue?vue&type=template&id=40aa6d36&ts=true\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/nasrullahid/Project/cpnsonline.id/fe-coid/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { AxiosRequestConfig, BaseResponse } from \"@/services/types\";\nimport { $api, configAppJson } from \"@/services/constant\";\nimport { HOST_API_V1 } from \"@/services/env-init\";\nimport {\n  CatPembahasan,\n  CatResult,\n  DataCat,\n  PayloadSubmitCat,\n  ResponseGetPassingGrade,\n  ResponseListCatCpns,\n} from \"./types\";\n\nconst BASE_URL_MEMBER_CAT = HOST_API_V1 + \"member/cat\";\n\nexport const getMemberCatQuestion = async (\n  jenis: string,\n  type: string,\n  config?: AxiosRequestConfig\n): Promise<BaseResponse<DataCat>> => {\n  const res = await $api().get(\n    `${BASE_URL_MEMBER_CAT}/question/${jenis}/${type}`,\n    config\n  );\n  return res.data;\n};\n\nexport const postMemberCatSubmit = async (\n  kodeExam: string,\n  payload: PayloadSubmitCat\n) => {\n  const config = configAppJson();\n\n  const res = await $api().post(\n    `${BASE_URL_MEMBER_CAT}/submit/${kodeExam}`,\n    payload,\n    config\n  );\n\n  return res.data;\n};\n\nexport const getMemberCatResult = async (\n  kodeExam: string\n): Promise<BaseResponse<CatResult>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_CAT}/result/${kodeExam}`);\n  return res.data;\n};\n\nexport const getMemberCatPembahasan = async (\n  kodeExam: string\n): Promise<BaseResponse<CatPembahasan>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_CAT}/pembahasan/${kodeExam}`);\n  return res.data;\n};\n\nexport const getMemberJenisCat = async (\n  type: string\n): Promise<BaseResponse<ResponseListCatCpns[]>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_CAT}/jenis/${type}`);\n  return res.data;\n};\n\nexport const getMemberCatPassingGrade = async (\n  type: string\n): Promise<BaseResponse<ResponseGetPassingGrade>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_CAT}/passing-grade/${type}`);\n  return res.data;\n};\n\nexport const getMemberCatHistory = async (\n  config: AxiosRequestConfig\n): Promise<BaseResponse<any>> => {\n  const res = await $api().get(`${BASE_URL_MEMBER_CAT}/history`, config);\n  return res.data;\n};\n","import { AxiosRequestConfig, BaseResponse } from \"@/services/types\";\nimport { $api, configAppJson } from \"@/services/constant\";\nimport { HOST_API_V1 } from \"@/services/env-init\";\nimport {\n  CatPembahasan,\n  CatResult,\n  DataCat,\n  PayloadSubmitCat,\n  ResponseGetPassingGrade,\n  ResponseListCatCpns,\n} from \"./types\";\n\nconst BASE_URL_TENTOR_CAT = HOST_API_V1 + \"tentor/cat\";\n\nexport const getTentorCatQuestion = async (\n  type: string,\n  config?: AxiosRequestConfig\n): Promise<BaseResponse<DataCat>> => {\n  const res = await $api().get(\n    `${BASE_URL_TENTOR_CAT}/question/${type}`,\n    config\n  );\n  return res.data;\n};\n\nexport const postTentorCatSubmit = async (\n  kodeExam: string,\n  payload: PayloadSubmitCat\n) => {\n  const config = configAppJson();\n\n  const res = await $api().post(\n    `${BASE_URL_TENTOR_CAT}/submit/${kodeExam}`,\n    payload,\n    config\n  );\n\n  return res.data;\n};\n\nexport const getTentorCatResult = async (\n  kodeExam: string\n): Promise<BaseResponse<CatResult>> => {\n  const res = await $api().get(`${BASE_URL_TENTOR_CAT}/result/${kodeExam}`);\n  return res.data;\n};\n\nexport const getTentorCatPembahasan = async (\n  kodeExam: string\n): Promise<BaseResponse<CatPembahasan>> => {\n  const res = await $api().get(`${BASE_URL_TENTOR_CAT}/pembahasan/${kodeExam}`);\n  return res.data;\n};\n\nexport const getTentorJenisCat = async (): Promise<\n  BaseResponse<ResponseListCatCpns[]>\n> => {\n  const res = await $api().get(`${BASE_URL_TENTOR_CAT}/jenis/`);\n  return res.data;\n};\n\nexport const getTentorCatPassingGrade = async (\n  type: string\n): Promise<BaseResponse<ResponseGetPassingGrade>> => {\n  const res = await $api().get(`${BASE_URL_TENTOR_CAT}/passing-grade/${type}`);\n  return res.data;\n};\n","import { AxiosRequestConfig, BaseResponse } from \"@/services/types\";\nimport { $api, configAppJson } from \"@/services/constant\";\nimport { HOST_API_V1 } from \"@/services/env-init\";\nimport {\n  FeatureCatPembahasan,\n  FeatureCatResult,\n  PayloadSubmitFeatureCat,\n  ResponseGetPassingGrade,\n} from \"./types\";\n\nconst BASE_URL_FEATURE_CAT = HOST_API_V1 + \"feature/cat\";\n\nexport const getFeatureCatQuestion = async (\n  type: string,\n  config?: AxiosRequestConfig\n) => {\n  const res = await $api().get(\n    `${BASE_URL_FEATURE_CAT}/question/${type}`,\n    config\n  );\n  return res.data;\n};\n\nexport const postFeatureCatSubmit = async (\n  kodeExam: string,\n  payload: PayloadSubmitFeatureCat\n) => {\n  const config = configAppJson();\n\n  const res = await $api().post(\n    `${BASE_URL_FEATURE_CAT}/submit/${kodeExam}`,\n    payload,\n    config\n  );\n\n  return res.data;\n};\n\nexport const getFeatureCatResult = async (\n  kodeExam: string\n): Promise<BaseResponse<FeatureCatResult>> => {\n  const res = await $api().get(`${BASE_URL_FEATURE_CAT}/result/${kodeExam}`);\n  return res.data;\n};\n\nexport const getFeatureCatPembahasan = async (\n  kodeExam: string\n): Promise<BaseResponse<FeatureCatPembahasan>> => {\n  const res = await $api().get(\n    `${BASE_URL_FEATURE_CAT}/pembahasan/${kodeExam}`\n  );\n  return res.data;\n};\n\nexport const getFeatureJenisCat = async (\n  type: string\n): Promise<BaseResponse<any>> => {\n  const res = await $api().get(`${BASE_URL_FEATURE_CAT}/jenis/${type}`);\n  return res.data;\n};\n\nexport const getFeatureCatPassingGrade = async (\n  type: string\n): Promise<BaseResponse<ResponseGetPassingGrade>> => {\n  const res = await $api().get(`${BASE_URL_FEATURE_CAT}/passing-grade/${type}`);\n  return res.data;\n};\n\nexport const getFeatureCatHistory = async (\n  config: AxiosRequestConfig\n): Promise<BaseResponse<any>> => {\n  const res = await $api().get(`${BASE_URL_FEATURE_CAT}/history`, config);\n  return res.data;\n};\n","import { Ref, ref } from \"vue\";\n\ntype Options = {\n  debounce: number;\n};\n\ntype WiseFetch = <T = any, W = any>(\n  handler: (params?: W) => Promise<any>,\n  options?: Options,\n  params?: W\n) => {\n  data: Ref<T | null>;\n  pending: Ref<boolean>;\n  execute: (params?: W) => Promise<void>;\n  error: Ref<any | null>;\n  reset: () => void;\n};\n\n/**\n * @param handler is function / async function\n * @param options so-far only \"debounce\" with type number\n * @returns\n *   data: Ref<T | null> ,\n *   pending: Ref<boolean> ,\n *   execute: (params?: W) => Promise<void> ,\n *   error: Ref<any | null> ,\n *   reset: () => void ,\n */\nconst useWiseFetch: WiseFetch = (handler, options) => {\n  const fetchData = ref(null);\n  const fetchPending = ref(false);\n  const fetchError = ref(null);\n\n  let callId = 0;\n\n  const execute = async (params?: any) => {\n    callId += 1;\n    const currCallId = callId;\n\n    fetchPending.value = true;\n\n    await new Promise((resolve) => setTimeout(resolve, options?.debounce || 0));\n\n    // Another fetch invocation has already been made.\n    // This call is stale, we should not continue.\n    if (currCallId !== callId) {\n      return;\n    }\n\n    try {\n      const response = await handler(params);\n      fetchData.value = response;\n      fetchError.value = null;\n    } catch (err: any) {\n      console.error(\"err useWiseFetch \", err);\n      console.error(\"err response useWiseFetch \", err?.response);\n      fetchError.value = err?.response;\n      fetchData.value = null;\n    } finally {\n      fetchPending.value = false;\n    }\n  };\n\n  const fetchReset = () => {\n    fetchData.value = null;\n    fetchPending.value = false;\n    fetchError.value = null;\n    callId = 0;\n  };\n\n  return {\n    data: fetchData,\n    pending: fetchPending,\n    execute,\n    error: fetchError,\n    reset: fetchReset,\n  };\n};\n\nexport default useWiseFetch;\n"],"sourceRoot":""}